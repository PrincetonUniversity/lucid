type ip_t = {
    int src;
    int dst;
}

global Array.t<32> arr = Array.create(10);

packet event ip(int dst);

fun int test(int in) {
    return 5;
}

handle ip(HIGH int dst) {
    int x = dst+1;
    HIGH bool y = true;
    ip_t ip_addr = { src = 1; dst = 2 };
    int w = ip_addr#src;
    if (y) {
        generate_port(1, ip(1)); 
    }
    else {
        generate_port(1, ip(2));
    }
}