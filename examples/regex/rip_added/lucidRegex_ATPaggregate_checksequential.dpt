event ATP_add(int idx, int jobid, int cnt, int val);
event ATP_release(int idx, int jobid);

sre<<1024>> msre = 
IDX = {
	| ATP_add -> {idx}
	| ATP_release -> {idx}
}
DETECT{
	(ATP_add(@int x = cnt; cnt==x+1)."")*
		.ATP_add(cnt==16)
	
} => {printf ("Checked continuous 16 add events.");};

handle ATP_add(int idx, int jobid, int cnt, int val) {
    printf ("Doing nothing");
}

handle ATP_release(int idx, int jobid) {
    printf ("Doing nothing");
}