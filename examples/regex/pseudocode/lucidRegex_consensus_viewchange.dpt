entry event ViewChange(int idx, int<<1>> ty, int x);
const int<<1>> type_VIEWCHANGE=0;
const int<<1>> type_PREPARE=1;

exit event Consensus_error(int idx, int x);

sre<<1024>> msre = 
IDX = {
    | ViewChange -> { idx }
}
DETECT{
	ViewChange(ty==type_VIEWCHANGE, @int v=x)
	.ViewChange(ty==type_PREPARE, x < v)
} => {printf ("bug detected!"); generate Consensus_error(idx, x);};

handle ViewChange(int idx, int<<1>> ty, int x){
    printf ("Doing nothing");
}
